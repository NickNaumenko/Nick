function Slider(t){this.slider=document.querySelector(t),this.frame=this.slider.querySelector(".slider__frame"),this.items=this.frame.children,this.itemsCount=this.items.length,this.position=0}Slider.prototype.init=function(){let t=document.createDocumentFragment();for(i=0;i<this.itemsCount;i++){let e=this.items[i].cloneNode(!0);t.appendChild(e)}for(this.frame.insertBefore(t,this.items[0]),i=0;i<this.itemsCount;i++){let t=this.items[i].cloneNode(!0);this.frame.appendChild(t)}for(let t=-this.itemsCount;t<2*this.itemsCount;t++)this.items[t+this.itemsCount].style.position="absolute",this.items[t+this.itemsCount].style.left=`${580*t}px`},Slider.prototype.smoothScroll=function(t){const e=this;let o=this.frame.getBoundingClientRect().left,i=(Math.abs(t-o),10);console.log([o,t]),function s(){o<t&&(o=(o+=i)<t?o:t,setTimeout(()=>{e.frame.style.transform=`translateX(${o}px)`,s()},8)),o>t&&(o=(o-=i)>t?o:t,setTimeout(()=>{e.frame.style.transform=`translateX(${o}px)`,s()},8))}()},Slider.prototype.moveTo=function(){let t=this.frame.getBoundingClientRect().left;this.position=Math.round(t/580);let e=580*this.position-t;return console.log(e),Math.abs(this.position)>=this.itemsCount&&(this.position=this.position>0?this.position-this.itemsCount:this.position+this.itemsCount),this.frame.style.transform=`translateX(${580*this.position-e}px)`,e},Slider.prototype.align=function(t){this.smoothScroll(580*this.position)},Slider.prototype.moveLeft=function(){this.moveTo(),this.position--,this.smoothScroll(580*this.position)},Slider.prototype.moveRight=function(){this.moveTo(),this.position++,this.smoothScroll(580*this.position)},Slider.prototype.drag=function(t){let e,o,i,s=this,n=this.frame;function r(t){window.getSelection?window.getSelection().removeAllRanges():document.selection.empty();let s=h(t)-o;Math.abs(s)<3||function(t){console.log(t),n.style.transform=`matrix(1,0,0,1,${t},0)`}(i=h(t)-o+e)}function l(e){document.removeEventListener(t[1],r),document.removeEventListener(t[2],l),s.moveTo(),s.smoothScroll(580*s.position)}function h(t){return t instanceof MouseEvent?t.pageX:t instanceof TouchEvent?t.changedTouches[0].pageX:void 0}n.addEventListener(t[0],function(i){i.which&&1!=i.which||(e=n.getBoundingClientRect().left,o=h(i),n.ondragstart=function(){return!1},document.addEventListener(t[1],r),document.addEventListener(t[2],l))})},Slider.prototype.wheel=function(){const t=this;this.slider.addEventListener("wheel",function(e){let o=e.deltaY||e.detail||e.wheelDelta;console.log(o),o<0&&t.moveRight(),o>0&&t.moveLeft(),e.preventDefault()})};const s=new Slider(".slider");s.init(),s.drag(["mousedown","mousemove","mouseup"]),s.drag(["touchstart","touchmove","touchend"]),s.wheel(),console.log(s),console.log(s.items[s.itemsCount]);const next=document.querySelector("#next");next.onclick=function(t){s.moveRight()};const prev=document.querySelector("#prev");prev.onclick=function(t){s.moveLeft()};